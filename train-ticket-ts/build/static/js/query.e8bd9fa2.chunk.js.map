{"version":3,"sources":["common/utils.js","common/Nav.tsx","common/useNav.ts","../node_modules/left-pad/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","query/store/actions.ts","query/store/reducers.ts","query/store/store.ts","query/components/List.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","query/components/Slider.tsx","common/useWinSize.ts","query/components/Bottom.tsx","query/App.tsx","query/index.tsx","common/Header.tsx"],"names":["timeZero","timestamp","Date","now","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","Nav","memo","props","date","prev","next","isPrevDisabled","isNextDisabled","currentString","useMemo","d","dayjs","format","locale","className","onClick","classNames","useNav","departDate","dispatch","prevDate","nextDate","useCallback","module","exports","str","len","ch","length","cache","pad","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","done","push","value","err","unsupportedIterableToArray","TypeError","setDepartDate","type","payload","setHighSpeed","bool","toggleHighSpeed","getState","highSpeed","toggleOrderType","orderType","toggleOnlyTickets","onlyTickets","setCheckedTicketTypes","checked","setCheckedTrainTypes","setCheckedDepartStations","setCheckedArriveStations","fetchTrainInfo","url","console","log","fetch","then","res","json","dataMap","directTrainInfo","trains","filter","ticketType","trainType","depStation","arrStation","stations","setArriveStations","setDepartTimeStart","departTimeStart","setDepartTimeEnd","departTimeEnd","setArriveTimeStart","arriveTimeStart","setArriveTimeEnd","arriveTimeEnd","toggleIsFiltersVisible","isFiltersVisible","from","state","actions","to","trainList","ticketTypes","checkedTicketTypes","trainTypes","checkedTrainTypes","departStations","checkedDepartStations","arriveStations","checkedArriveStations","searchParsed","createStore","combineReducers","reducers","applyMiddleware","thunk","ListItem","dTime","aTime","dStation","aStation","trainNumber","time","priceMsg","URI","setSearch","toString","href","List","list","map","item","key","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","Slider","title","currentStartHours","currentEndHours","onStartChanged","onEndChanged","winSize","useState","document","documentElement","clientWidth","width","setWidth","clientHeight","height","setHeight","onResize","useEffect","window","addEventListener","removeEventListener","useWinSize","startHandler","useRef","endHandler","lastStartX","lastEndX","range","rangeWidth","prevCurrentStartHours","prevCurrentEndHours","start","setStart","end","setEnd","current","startPercent","endPercent","startHours","Math","round","endHours","startText","leftPad","endText","onStartTouchBegin","e","touch","targetTouches","pageX","onEndTouchBegin","onStartTouchMove","distance","onEndTouchMove","parseFloat","getComputedStyle","startHandlerCurrent","endHandlerCurrent","ref","style","left","checkedReducer","action","newState","Filter","name","Option","options","checkedMap","option","hasOwnProperty","BottomModal","useReducer","localCheckedTicketTypes","localCheckedTicketTypesDispatch","localCheckedTrainTypes","localCheckedTrainTypesDispatch","localCheckedDepartStations","localCheckedDepartStationsDispatch","localCheckedArriveStations","localCheckedArriveStationsDispatch","localDepartTimeStart","setLocalDepartTimeStart","localDepartTimeEnd","setLocalDepartTimeEnd","localArriveTimeStart","setLocalArriveTimeStart","localArriveTimeEnd","setLocalArriveTimeEnd","optionsGroup","isResetDisabled","disabled","group","Bottom","noChecked","connect","fetchTrain","bindActionCreators","queriesDefault","queries","assign","parseQuery","location","search","setFrom","setTo","valueOf","join","onBack","history","back","bottomCbs","Header","ReactDOM","render","store","getElementById","points","stroke","strokeWidth","fill"],"mappings":"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","file":"static/js/query.e8bd9fa2.chunk.js","sourcesContent":["export function timeZero(timestamp = Date.now()) {\r\n  const target = new Date(timestamp)\r\n\r\n  target.setHours(0)\r\n  target.setMinutes(0)\r\n  target.setSeconds(0)\r\n  target.setMilliseconds(0)\r\n\r\n  return target.getTime()\r\n}\r\n","import React, { FC, memo, useMemo } from 'react'\r\nimport classNames from 'classnames'\r\nimport dayjs from 'dayjs'\r\nimport 'dayjs/locale/zh-cn'\r\nimport './styles/Nav.css'\r\nimport { DepartDateProp } from '../query/types'\r\n\r\ninterface NavProps {\r\n  date: DepartDateProp\r\n  prev: () => void\r\n  next: () => void\r\n  isPrevDisabled: boolean\r\n  isNextDisabled: boolean\r\n}\r\n\r\nconst Nav: FC<NavProps> = memo(props => {\r\n  const { date, prev, next, isPrevDisabled, isNextDisabled } = props\r\n  const currentString = useMemo(() => {\r\n    const d = dayjs(date)\r\n    return d.format('M月D日') + d.locale('zh-cn').format('ddd')\r\n  }, [date])\r\n\r\n  return (\r\n    <div className=\"nav\">\r\n      <span\r\n        onClick={prev}\r\n        className={classNames('nav-prev', { 'nav-disabled': isPrevDisabled })}\r\n      >\r\n        前一天\r\n      </span>\r\n      <span className=\"nav-current\">{currentString}</span>\r\n      <span\r\n        onClick={next}\r\n        className={classNames('nav-next', { 'nav-disabled': isNextDisabled })}\r\n      >\r\n        后一天\r\n      </span>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Nav\r\n","import { useCallback } from 'react'\r\nimport { Dispatch } from 'redux'\r\nimport { timeZero } from './utils'\r\nimport { DepartDateProp } from '../query/types'\r\n\r\nexport default function useNav(\r\n  departDate: DepartDateProp,\r\n  dispatch: Dispatch,\r\n  prevDate: any,\r\n  nextDate: any\r\n) {\r\n  const isPrevDisabled = timeZero(departDate) <= timeZero()\r\n  const isNextDisabled =\r\n    timeZero(departDate) - timeZero() > 20 * 24 * 60 * 60 * 1000\r\n\r\n  const prev = useCallback(() => {\r\n    if (isPrevDisabled) return\r\n    dispatch(prevDate())\r\n  }, [dispatch, prevDate, isPrevDisabled])\r\n\r\n  const next = useCallback(() => {\r\n    if (isNextDisabled) return\r\n    dispatch(nextDate())\r\n  }, [dispatch, nextDate, isNextDisabled])\r\n\r\n  return {\r\n    isPrevDisabled,\r\n    isNextDisabled,\r\n    prev,\r\n    next\r\n  }\r\n}\r\n","/* This program is free software. It comes without any warranty, to\n     * the extent permitted by applicable law. You can redistribute it\n     * and/or modify it under the terms of the Do What The Fuck You Want\n     * To Public License, Version 2, as published by Sam Hocevar. See\n     * http://www.wtfpl.net/ for more details. */\n'use strict';\nmodule.exports = leftPad;\n\nvar cache = [\n  '',\n  ' ',\n  '  ',\n  '   ',\n  '    ',\n  '     ',\n  '      ',\n  '       ',\n  '        ',\n  '         '\n];\n\nfunction leftPad (str, len, ch) {\n  // convert `str` to a `string`\n  str = str + '';\n  // `len` is the `pad`'s length now\n  len = len - str.length;\n  // doesn't need to pad\n  if (len <= 0) return str;\n  // `ch` defaults to `' '`\n  if (!ch && ch !== 0) ch = ' ';\n  // convert `ch` to a `string` cuz it could be a number\n  ch = ch + '';\n  // cache common use cases\n  if (ch === ' ' && len < 10) return cache[len] + str;\n  // `pad` starts with an empty string\n  var pad = '';\n  // loop\n  while (true) {\n    // add `ch` to `pad` if `len` is odd\n    if (len & 1) pad += ch;\n    // divide `len` by 2, ditch the remainder\n    len >>= 1;\n    // \"double\" the `ch` so this operation count grows logarithmically on `len`\n    // each time `ch` is \"doubled\", the `len` would need to be \"doubled\" too\n    // similar to finding a value in binary search tree, hence O(log(n))\n    if (len) ch += ch;\n    // `len` is 0, exit the loop\n    else break;\n  }\n  // pad `str`!\n  return pad + str;\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import {\r\n  ToProp,\r\n  FromProp,\r\n  DepartDateProp,\r\n  VisibleProp,\r\n  OrderTypeProp,\r\n  TrainProps,\r\n  CheckedProps,\r\n  TypesProps\r\n} from '../types'\r\nimport { Dispatch } from 'redux'\r\n\r\nexport const ACTION_SET_FROM = 'SET_FROM'\r\nexport const ACTION_SET_TO = 'SET_TO'\r\nexport const ACTION_SET_DEPART_DATE = 'SET_DEPART_DATE'\r\nexport const ACTION_SET_HIGH_SPEED = 'SET_HIGH_SPEED'\r\nexport const ACTION_SET_SEARCH_PARSED = 'SET_SEARCH_PARSED'\r\nexport const ACTION_SET_TRAIN_LIST = 'SET_TRAIN_LIST'\r\nexport const ACTION_SET_ORDER_TYPE = 'SET_ORDER_TYPE'\r\nexport const ACTION_SET_ONLY_TICKETS = 'ACTION_SET_ONLY_TICKETS'\r\nexport const ACTION_SET_TICKET_TYPES = 'SET_TICKET_TYPES'\r\nexport const ACTION_SET_TRAIN_TYPES = 'SET_TRAIN_TYPES'\r\nexport const ACTION_SET_DEPART_STATIONS = 'SET_DEPART_STATIONS'\r\nexport const ACTION_SET_ARRIVE_STATIONS = 'SET_ARRIVE_STATIONS'\r\nexport const ACTION_SET_CHECKED_TICKET_TYPES = 'SET_CHECKED_TICKET_TYPES'\r\nexport const ACTION_SET_CHECKED_TRAIN_TYPES = 'SET_CHECKED_TRAIN_TYPES'\r\nexport const ACTION_SET_CHECKED_DEPART_STATIONS = 'SET_CHECKED_DEPART_STATIONS'\r\nexport const ACTION_SET_CHECKED_ARRIVE_STATIONS = 'SET_CHECKED_ARRIVE_STATIONS'\r\nexport const ACTION_SET_DEPART_TIME_START = 'ACTION_SET_DEPART_TIME_START'\r\nexport const ACTION_SET_DEPART_TIME_END = 'SET_DEPART_TIME_END'\r\nexport const ACTION_SET_ARRIVE_TIME_START = 'SET_ARRIVE_TIME_START'\r\nexport const ACTION_SET_ARRIVE_TIME_END = 'SET_ARRIVE_TIME_END'\r\nexport const ACTION_SET_IS_FILTERS_VISIBLE = 'SET_IS_FILTERS_VISIBLE'\r\nexport function setFrom(from: FromProp) {\r\n  return {\r\n    type: ACTION_SET_FROM,\r\n    payload: from\r\n  }\r\n}\r\n\r\nexport function setTo(to: ToProp) {\r\n  return {\r\n    type: ACTION_SET_TO,\r\n    payload: to\r\n  }\r\n}\r\n\r\nexport function setDepartDate(date: DepartDateProp) {\r\n  return {\r\n    type: ACTION_SET_DEPART_DATE,\r\n    payload: date\r\n  }\r\n}\r\n\r\nexport function setHighSpeed(bool: VisibleProp) {\r\n  return {\r\n    type: ACTION_SET_HIGH_SPEED,\r\n    payload: bool\r\n  }\r\n}\r\n\r\nexport function toggleHighSpeed() {\r\n  return (dispatch: Dispatch, getState: any) => {\r\n    const { highSpeed } = getState()\r\n    dispatch(setHighSpeed(!highSpeed))\r\n  }\r\n}\r\n\r\nexport function prevDate() {\r\n  return (dispatch: Dispatch, getState: any) => {\r\n    const { departDate } = getState()\r\n    const prevDate = departDate - 24 * 60 * 60 * 1000\r\n    dispatch(setDepartDate(prevDate))\r\n  }\r\n}\r\n\r\nexport function nextDate() {\r\n  return (dispatch: Dispatch, getState: any) => {\r\n    const { departDate } = getState()\r\n    const nextDate = departDate + 24 * 60 * 60 * 1000\r\n    dispatch(setDepartDate(nextDate))\r\n  }\r\n}\r\n\r\nexport function setTrainList(list: TrainProps) {\r\n  return {\r\n    type: ACTION_SET_TRAIN_LIST,\r\n    payload: list\r\n  }\r\n}\r\n\r\nexport function setOrderType(type: OrderTypeProp) {\r\n  return {\r\n    type: ACTION_SET_ORDER_TYPE,\r\n    payload: type\r\n  }\r\n}\r\n\r\nexport function toggleOrderType() {\r\n  return (dispatch: Dispatch, getState: any) => {\r\n    const { orderType } = getState()\r\n    dispatch(setOrderType(orderType === 'depart' ? 'duration' : 'depart'))\r\n  }\r\n}\r\n\r\nexport function setOnlyTickets(bool: VisibleProp) {\r\n  return {\r\n    type: ACTION_SET_ONLY_TICKETS,\r\n    payload: bool\r\n  }\r\n}\r\n\r\nexport function toggleOnlyTickets() {\r\n  return (dispatch: Dispatch, getState: any) => {\r\n    const { onlyTickets } = getState()\r\n    dispatch(setOnlyTickets(!onlyTickets))\r\n  }\r\n}\r\n\r\nexport function setTicketTypes(tickets: TypesProps) {\r\n  return {\r\n    type: ACTION_SET_TICKET_TYPES,\r\n    payload: tickets\r\n  }\r\n}\r\n\r\nexport function setCheckedTicketTypes(checked: CheckedProps) {\r\n  return {\r\n    type: ACTION_SET_CHECKED_TICKET_TYPES,\r\n    payload: checked\r\n  }\r\n}\r\n\r\nexport function setTrainTypes(types: TypesProps) {\r\n  return {\r\n    type: ACTION_SET_TRAIN_TYPES,\r\n    payload: types\r\n  }\r\n}\r\n\r\nexport function setCheckedTrainTypes(checked: CheckedProps) {\r\n  return {\r\n    type: ACTION_SET_CHECKED_TRAIN_TYPES,\r\n    payload: checked\r\n  }\r\n}\r\n\r\nexport function setDepartStations(stations: TypesProps) {\r\n  return {\r\n    type: ACTION_SET_DEPART_STATIONS,\r\n    payload: stations\r\n  }\r\n}\r\n\r\nexport function setCheckedDepartStations(checked: CheckedProps) {\r\n  return {\r\n    type: ACTION_SET_CHECKED_DEPART_STATIONS,\r\n    payload: checked\r\n  }\r\n}\r\n\r\nexport function setArriveStations(stations: TypesProps) {\r\n  return {\r\n    type: ACTION_SET_ARRIVE_STATIONS,\r\n    payload: stations\r\n  }\r\n}\r\n\r\nexport function setCheckedArriveStations(checked: CheckedProps) {\r\n  return {\r\n    type: ACTION_SET_CHECKED_ARRIVE_STATIONS,\r\n    payload: checked\r\n  }\r\n}\r\n\r\nexport function fetchTrainInfo(url: string) {\r\n  return (dispatch: Dispatch) => {\r\n    console.log(url)\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        const {\r\n          dataMap: {\r\n            directTrainInfo: {\r\n              trains,\r\n              filter: { ticketType, trainType, depStation, arrStation }\r\n            }\r\n          }\r\n        } = res\r\n\r\n        dispatch(setTrainList(trains))\r\n        dispatch(setTicketTypes(ticketType))\r\n        dispatch(setTrainTypes(trainType))\r\n        dispatch(setDepartStations(depStation))\r\n        dispatch(setArriveStations(arrStation))\r\n      })\r\n  }\r\n}\r\n\r\nexport function setDepartTimeStart(departTimeStart: number) {\r\n  return {\r\n    type: ACTION_SET_DEPART_TIME_START,\r\n    payload: departTimeStart\r\n  }\r\n}\r\n\r\nexport function setDepartTimeEnd(departTimeEnd: number) {\r\n  return {\r\n    type: ACTION_SET_DEPART_TIME_END,\r\n    payload: departTimeEnd\r\n  }\r\n}\r\n\r\nexport function setArriveTimeStart(arriveTimeStart: number) {\r\n  return {\r\n    type: ACTION_SET_ARRIVE_TIME_START,\r\n    payload: arriveTimeStart\r\n  }\r\n}\r\n\r\nexport function setArriveTimeEnd(arriveTimeEnd: number) {\r\n  return {\r\n    type: ACTION_SET_ARRIVE_TIME_END,\r\n    payload: arriveTimeEnd\r\n  }\r\n}\r\n\r\nexport function toggleIsFiltersVisible() {\r\n  return (dispatch: Dispatch, getState: any) => {\r\n    const { isFiltersVisible } = getState()\r\n\r\n    dispatch({\r\n      type: ACTION_SET_IS_FILTERS_VISIBLE,\r\n      payload: !isFiltersVisible\r\n    })\r\n  }\r\n}\r\n\r\nexport function setSearchParsed(bool: VisibleProp) {\r\n  return {\r\n    type: ACTION_SET_SEARCH_PARSED,\r\n    payload: bool\r\n  }\r\n}\r\n","import {\r\n  ActionProps,\r\n  ToProp,\r\n  FromProp,\r\n  DepartDateProp,\r\n  VisibleProp,\r\n  OrderTypeProp,\r\n  TrainProps,\r\n  TypesProps,\r\n  CheckedProps\r\n} from '../types'\r\nimport {\r\n  ACTION_SET_FROM,\r\n  ACTION_SET_TO,\r\n  ACTION_SET_DEPART_DATE,\r\n  ACTION_SET_HIGH_SPEED,\r\n  ACTION_SET_SEARCH_PARSED,\r\n  ACTION_SET_TRAIN_LIST,\r\n  ACTION_SET_TICKET_TYPES,\r\n  ACTION_SET_ONLY_TICKETS,\r\n  ACTION_SET_TRAIN_TYPES,\r\n  ACTION_SET_DEPART_STATIONS,\r\n  ACTION_SET_ARRIVE_STATIONS,\r\n  ACTION_SET_ORDER_TYPE,\r\n  ACTION_SET_CHECKED_TICKET_TYPES,\r\n  ACTION_SET_CHECKED_TRAIN_TYPES,\r\n  ACTION_SET_CHECKED_DEPART_STATIONS,\r\n  ACTION_SET_CHECKED_ARRIVE_STATIONS,\r\n  ACTION_SET_DEPART_TIME_START,\r\n  ACTION_SET_DEPART_TIME_END,\r\n  ACTION_SET_ARRIVE_TIME_START,\r\n  ACTION_SET_ARRIVE_TIME_END,\r\n  ACTION_SET_IS_FILTERS_VISIBLE\r\n} from './actions'\r\n\r\nimport { timeZero } from '../../common/utils'\r\n\r\nexport default {\r\n  from(state: FromProp = null, actions: ActionProps<FromProp>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_FROM:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  to(state: ToProp = null, actions: ActionProps<ToProp>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_TO:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  departDate(\r\n    state: DepartDateProp = timeZero(Date.now()),\r\n    actions: ActionProps<DepartDateProp>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_DEPART_DATE:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  highSpeed(state: VisibleProp = false, actions: ActionProps<VisibleProp>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_HIGH_SPEED:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  trainList(state: TrainProps = null, actions: ActionProps<TrainProps>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_TRAIN_LIST:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  orderType(\r\n    state: OrderTypeProp = 'depart',\r\n    actions: ActionProps<OrderTypeProp>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_ORDER_TYPE:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  ticketTypes(state: TypesProps = null, actions: ActionProps<TypesProps>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_TICKET_TYPES:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  checkedTicketTypes(\r\n    state: CheckedProps = {},\r\n    actions: ActionProps<CheckedProps>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_CHECKED_TICKET_TYPES:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  onlyTickets(state: VisibleProp = false, actions: ActionProps<VisibleProp>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_ONLY_TICKETS:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  trainTypes(state: TypesProps = null, actions: ActionProps<TypesProps>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_TRAIN_TYPES:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  checkedTrainTypes(\r\n    state: CheckedProps = {},\r\n    actions: ActionProps<CheckedProps>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_CHECKED_TRAIN_TYPES:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  departStations(state: TypesProps = null, actions: ActionProps<TypesProps>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_DEPART_STATIONS:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  checkedDepartStations(\r\n    state: CheckedProps = {},\r\n    actions: ActionProps<CheckedProps>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_CHECKED_DEPART_STATIONS:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  arriveStations(state: TypesProps = null, actions: ActionProps<TypesProps>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_ARRIVE_STATIONS:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  checkedArriveStations(\r\n    state: CheckedProps = {},\r\n    actions: ActionProps<CheckedProps>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_CHECKED_ARRIVE_STATIONS:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  departTimeStart(state: number = 0, actions: ActionProps<number>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_DEPART_TIME_START:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  departTimeEnd(state: number = 0, actions: ActionProps<number>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_DEPART_TIME_END:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  arriveTimeStart(state: number = 0, actions: ActionProps<number>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_ARRIVE_TIME_START:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  arriveTimeEnd(state: number = 0, actions: ActionProps<number>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_ARRIVE_TIME_END:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  isFiltersVisible(\r\n    state: VisibleProp = false,\r\n    actions: ActionProps<VisibleProp>\r\n  ) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_IS_FILTERS_VISIBLE:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  },\r\n\r\n  searchParsed(state: VisibleProp = false, actions: ActionProps<VisibleProp>) {\r\n    const { type, payload } = actions\r\n    switch (type) {\r\n      case ACTION_SET_SEARCH_PARSED:\r\n        return payload\r\n      default:\r\n    }\r\n    return state\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\n\r\nimport reducers from './reducers'\r\nimport thunk from 'redux-thunk'\r\n\r\nexport default createStore(\r\n  combineReducers(reducers),\r\n  {\r\n    from: null,\r\n    to: null,\r\n    departDate: Date.now(),\r\n    highSpeed: false,\r\n    trainList: null,\r\n    onlyTickets: false,\r\n    orderType: 'depart',\r\n    ticketTypes: null,\r\n    checkedTicketTypes: {},\r\n    trainTypes: null,\r\n    checkedTrainTypes: {},\r\n    departStations: null,\r\n    checkedDepartStations: {},\r\n    arriveStations: null,\r\n    checkedArriveStations: {},\r\n    departTimeStart: 0,\r\n    departTimeEnd: 24,\r\n    arriveTimeStart: 0,\r\n    arriveTimeEnd: 24,\r\n    isFiltersVisible: false,\r\n    searchParsed: false\r\n  },\r\n  applyMiddleware(thunk)\r\n)\r\n","import React, { FC, memo, useMemo } from 'react'\r\nimport URI from 'urijs'\r\n\r\nimport { TrainProps, TrainItemProps } from '../types'\r\n\r\nimport '../styles/List.css'\r\n\r\nconst ListItem: FC<TrainItemProps> = props => {\r\n  const {\r\n    dTime,\r\n    aTime,\r\n    dStation,\r\n    aStation,\r\n    trainNumber,\r\n    date,\r\n    time,\r\n    priceMsg\r\n  } = props\r\n\r\n  const url = useMemo(() => {\r\n    return new URI('ticket.html')\r\n      .setSearch('aStation', aStation)\r\n      .setSearch('dStation', dStation)\r\n      .setSearch('trainNumber', trainNumber)\r\n      .setSearch('date', date)\r\n      .toString()\r\n  }, [aStation, dStation, trainNumber, date])\r\n\r\n  return (\r\n    <li className=\"list-item\">\r\n      <a href={url}>\r\n        <span className=\"item-time\">\r\n          <em>{dTime}</em>\r\n          <br />\r\n          <em className=\"em-light\">\r\n            {aTime} <i className=\"time-after\"></i>{' '}\r\n          </em>\r\n        </span>\r\n        <span className=\"item-stations\">\r\n          <em>\r\n            <i className=\"train-station train-state\">始</i>\r\n            {dStation}\r\n          </em>\r\n          <br />\r\n          <em className=\"em-light\">\r\n            <i className=\"train-station train-end\">终</i>\r\n            {aStation}\r\n          </em>\r\n        </span>\r\n        <span className=\"item-train\">\r\n          <em>{trainNumber}</em>\r\n          <br />\r\n          <em className=\"em-light\">{time}</em>\r\n        </span>\r\n        <span className=\"item-ticket\">\r\n          <em>{priceMsg}</em>\r\n          <br />\r\n          <em className=\"em-light-orange\">可抢票</em>\r\n        </span>\r\n      </a>\r\n    </li>\r\n  )\r\n}\r\n\r\ninterface ListProps {\r\n  list: TrainProps\r\n}\r\nconst List: FC<ListProps> = memo(props => {\r\n  const { list } = props\r\n  return (\r\n    <ul className=\"list\">\r\n      {list && list.map(item => <ListItem key={item.trainNumber} {...item} />)}\r\n    </ul>\r\n  )\r\n})\r\n\r\nexport default List\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { FC, memo, useState, useEffect, useRef, useMemo } from 'react'\r\nimport leftPad from 'left-pad'\r\n\r\nimport useWinSize from '../../common/useWinSize'\r\nimport '../styles/Slider.css'\r\n\r\ninterface SliderProps {\r\n  title: string\r\n  currentStartHours: number\r\n  currentEndHours: number\r\n  onStartChanged: React.Dispatch<React.SetStateAction<number>>\r\n  onEndChanged: React.Dispatch<React.SetStateAction<number>>\r\n}\r\n\r\nconst Slider: FC<SliderProps> = memo(props => {\r\n  const {\r\n    title,\r\n    currentStartHours,\r\n    currentEndHours,\r\n    onStartChanged,\r\n    onEndChanged\r\n  } = props\r\n\r\n  const winSize = useWinSize()\r\n  const startHandler = useRef<HTMLElement>(null)\r\n  const endHandler = useRef<HTMLElement>(null)\r\n\r\n  const lastStartX = useRef<number>(0)\r\n  const lastEndX = useRef<number>(0)\r\n\r\n  const range = useRef<HTMLDivElement>(null)\r\n  const rangeWidth = useRef<number>(0)\r\n\r\n  const prevCurrentStartHours = useRef(currentStartHours)\r\n  const prevCurrentEndHours = useRef(currentEndHours)\r\n\r\n  const [start, setStart] = useState(() => (currentStartHours / 24) * 100)\r\n  const [end, setEnd] = useState(() => (currentEndHours / 24) * 100)\r\n\r\n  if (prevCurrentStartHours.current !== currentStartHours) {\r\n    setStart((currentStartHours / 24) * 100)\r\n    prevCurrentStartHours.current = currentStartHours\r\n  }\r\n\r\n  if (prevCurrentEndHours.current !== currentEndHours) {\r\n    setEnd((currentEndHours / 24) * 100)\r\n    prevCurrentEndHours.current = currentEndHours\r\n  }\r\n\r\n  const startPercent = useMemo(() => {\r\n    if (start > 100) {\r\n      return 100\r\n    }\r\n    if (start < 0) {\r\n      return 0\r\n    }\r\n    console.log(start)\r\n    return start\r\n  }, [start])\r\n\r\n  const endPercent = useMemo(() => {\r\n    if (end > 100) {\r\n      return 100\r\n    }\r\n    if (end < 0) {\r\n      return 0\r\n    }\r\n    return end\r\n  }, [end])\r\n\r\n  const startHours = useMemo(() => {\r\n    return Math.round((startPercent * 24) / 100)\r\n  }, [startPercent])\r\n\r\n  const endHours = useMemo(() => {\r\n    return Math.round((endPercent * 24) / 100)\r\n  }, [endPercent])\r\n\r\n  const startText = useMemo(() => {\r\n    return leftPad(startHours, 2, '0') + ':00'\r\n  }, [startHours])\r\n\r\n  const endText = useMemo(() => {\r\n    return leftPad(endHours, 2, '0') + ':00'\r\n  }, [endHours])\r\n\r\n  function onStartTouchBegin(e: TouchEvent) {\r\n    const touch = e.targetTouches[0]\r\n    lastStartX.current = touch.pageX\r\n  }\r\n\r\n  function onEndTouchBegin(e: TouchEvent) {\r\n    const touch = e.targetTouches[0]\r\n    lastEndX.current = touch.pageX\r\n  }\r\n\r\n  function onStartTouchMove(e: TouchEvent) {\r\n    const touch = e.targetTouches[0]\r\n    const distance = touch.pageX - lastStartX.current\r\n    lastStartX.current = touch.pageX\r\n\r\n    setStart(start => start + (distance / rangeWidth.current) * 100)\r\n  }\r\n\r\n  function onEndTouchMove(e: TouchEvent) {\r\n    const touch = e.targetTouches[0]\r\n    const distance = touch.pageX - lastEndX.current\r\n    lastEndX.current = touch.pageX\r\n\r\n    setEnd(start => start + (distance / rangeWidth.current) * 100)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!range.current) return\r\n    rangeWidth.current = parseFloat(\r\n      window.getComputedStyle(range.current).width\r\n    )\r\n  }, [winSize.width])\r\n\r\n  useEffect(() => {\r\n    if (!startHandler.current || !endHandler.current) return\r\n    const startHandlerCurrent = startHandler.current\r\n    const endHandlerCurrent = endHandler.current\r\n    startHandlerCurrent.addEventListener('touchstart', onStartTouchBegin, false)\r\n    startHandlerCurrent.addEventListener('touchmove', onStartTouchMove, false)\r\n\r\n    endHandlerCurrent.addEventListener('touchstart', onEndTouchBegin, false)\r\n    endHandlerCurrent.addEventListener('touchmove', onEndTouchMove, false)\r\n\r\n    return () => {\r\n      startHandlerCurrent.removeEventListener(\r\n        'touchstart',\r\n        onStartTouchBegin,\r\n        false\r\n      )\r\n      startHandlerCurrent.removeEventListener(\r\n        'touchmove',\r\n        onStartTouchMove,\r\n        false\r\n      )\r\n\r\n      endHandlerCurrent.removeEventListener(\r\n        'touchstart',\r\n        onEndTouchBegin,\r\n        false\r\n      )\r\n      endHandlerCurrent.removeEventListener('touchmove', onEndTouchMove, false)\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    onStartChanged(startHours)\r\n  }, [onStartChanged, startHours])\r\n\r\n  useEffect(() => {\r\n    onEndChanged(endHours)\r\n  }, [onEndChanged, endHours])\r\n\r\n  return (\r\n    <div className=\"option\">\r\n      <h3>{title}</h3>\r\n      <div className=\"range-slider\">\r\n        <div className=\"slider\" ref={range}>\r\n          <div\r\n            className=\"slider-range\"\r\n            style={{\r\n              left: startPercent + '%',\r\n              width: endPercent - startPercent + '%'\r\n            }}\r\n          ></div>\r\n          <i\r\n            ref={startHandler}\r\n            className=\"slider-handle\"\r\n            style={{ left: startPercent + '%' }}\r\n          >\r\n            <span>{startText}</span>\r\n          </i>\r\n          <i\r\n            ref={endHandler}\r\n            className=\"slider-handle\"\r\n            style={{ left: endPercent + '%' }}\r\n          >\r\n            <span>{endText}</span>\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Slider\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport default function useWinSize() {\r\n  const [width, setWidth] = useState(document.documentElement.clientWidth)\r\n  const [height, setHeight] = useState(document.documentElement.clientHeight)\r\n\r\n  const onResize = () => {\r\n    setWidth(document.documentElement.clientWidth)\r\n    setHeight(document.documentElement.clientHeight)\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', onResize, false)\r\n    return () => {\r\n      window.removeEventListener('resize', onResize, false)\r\n    }\r\n  }, [])\r\n\r\n  return { width, height }\r\n}\r\n","import React, { FC, memo, useState, useMemo, useReducer } from 'react'\r\nimport classNames from 'classnames'\r\n\r\nimport '../styles/Bottom.css'\r\nimport Slider from './Slider'\r\n\r\nimport {\r\n  VisibleProp,\r\n  OrderTypeProp,\r\n  TimeProp,\r\n  CheckedProps,\r\n  TypesProps,\r\n  DispatchMiddleProp,\r\n  ActionParamProp,\r\n  ActionProps\r\n} from '../types'\r\n\r\nfunction checkedReducer(state: CheckedProps, action: ActionProps<string>) {\r\n  const { type, payload } = action\r\n  switch (type) {\r\n    case 'toggle':\r\n      let newState = { ...state }\r\n      newState = { ...state }\r\n      if (payload) {\r\n        if (payload in newState) {\r\n          delete newState[payload]\r\n        } else {\r\n          newState[payload] = true\r\n        }\r\n      }\r\n      console.log(newState)\r\n      return newState\r\n    case 'reset':\r\n      return {}\r\n    default:\r\n  }\r\n  return state\r\n}\r\n\r\ninterface FilterProps {\r\n  name?: string\r\n  checked: boolean\r\n  value?: string\r\n  dispatch: (value: ActionProps<string>) => void\r\n}\r\n\r\nconst Filter: FC<FilterProps> = props => {\r\n  const { name, checked, value, dispatch } = props\r\n  return (\r\n    <li\r\n      className={classNames({ checked })}\r\n      onClick={() => dispatch({ payload: value, type: 'toggle' })}\r\n    >\r\n      {name}\r\n    </li>\r\n  )\r\n}\r\n\r\ninterface OptionProps {\r\n  title: string\r\n  options: TypesProps\r\n  checkedMap: CheckedProps\r\n  dispatch: (value: ActionProps<string>) => void\r\n}\r\n\r\nconst Option: FC<OptionProps> = props => {\r\n  const { title, options, checkedMap, dispatch } = props\r\n  return (\r\n    <div className=\"option\">\r\n      <h3>{title}</h3>\r\n      <ul>\r\n        {options &&\r\n          options.map(option => {\r\n            return (\r\n              <Filter\r\n                key={option.value}\r\n                {...option}\r\n                checked={checkedMap.hasOwnProperty(option.value)}\r\n                dispatch={dispatch}\r\n              />\r\n            )\r\n          })}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface BottomModalProps {\r\n  toggleIsFiltersVisible: DispatchMiddleProp\r\n  ticketTypes: TypesProps\r\n  trainTypes: TypesProps\r\n  departStations: TypesProps\r\n  arriveStations: TypesProps\r\n  checkedTicketTypes: CheckedProps\r\n  checkedTrainTypes: CheckedProps\r\n  checkedDepartStations: CheckedProps\r\n  checkedArriveStations: CheckedProps\r\n  departTimeStart: TimeProp\r\n  departTimeEnd: TimeProp\r\n  arriveTimeStart: TimeProp\r\n  arriveTimeEnd: TimeProp\r\n  setCheckedTicketTypes: ActionParamProp<CheckedProps>\r\n  setCheckedTrainTypes: ActionParamProp<CheckedProps>\r\n  setCheckedDepartStations: ActionParamProp<CheckedProps>\r\n  setCheckedArriveStations: ActionParamProp<CheckedProps>\r\n  setDepartTimeStart: ActionParamProp<TimeProp>\r\n  setDepartTimeEnd: ActionParamProp<TimeProp>\r\n  setArriveTimeStart: ActionParamProp<TimeProp>\r\n  setArriveTimeEnd: ActionParamProp<TimeProp>\r\n}\r\n\r\nconst BottomModal: FC<BottomModalProps> = props => {\r\n  const {\r\n    ticketTypes,\r\n    trainTypes,\r\n    departStations,\r\n    arriveStations,\r\n    checkedTicketTypes,\r\n    checkedTrainTypes,\r\n    checkedDepartStations,\r\n    checkedArriveStations,\r\n    departTimeStart,\r\n    departTimeEnd,\r\n    arriveTimeStart,\r\n    arriveTimeEnd,\r\n    setCheckedTicketTypes,\r\n    setCheckedTrainTypes,\r\n    setCheckedDepartStations,\r\n    setCheckedArriveStations,\r\n    setDepartTimeStart,\r\n    setDepartTimeEnd,\r\n    setArriveTimeStart,\r\n    setArriveTimeEnd,\r\n    toggleIsFiltersVisible\r\n  } = props\r\n\r\n  const [localCheckedTicketTypes, localCheckedTicketTypesDispatch] = useReducer(\r\n    checkedReducer,\r\n    checkedTicketTypes,\r\n    () => {\r\n      return {\r\n        ...checkedTicketTypes\r\n      }\r\n    }\r\n  )\r\n\r\n  const [localCheckedTrainTypes, localCheckedTrainTypesDispatch] = useReducer(\r\n    checkedReducer,\r\n    checkedTrainTypes,\r\n    () => {\r\n      return {\r\n        ...checkedTrainTypes\r\n      }\r\n    }\r\n  )\r\n\r\n  const [\r\n    localCheckedDepartStations,\r\n    localCheckedDepartStationsDispatch\r\n  ] = useReducer(checkedReducer, checkedDepartStations, () => {\r\n    return {\r\n      ...checkedDepartStations\r\n    }\r\n  })\r\n\r\n  const [\r\n    localCheckedArriveStations,\r\n    localCheckedArriveStationsDispatch\r\n  ] = useReducer(checkedReducer, checkedArriveStations, () => {\r\n    return {\r\n      ...checkedArriveStations\r\n    }\r\n  })\r\n  const [localDepartTimeStart, setLocalDepartTimeStart] = useState(\r\n    departTimeStart\r\n  )\r\n  const [localDepartTimeEnd, setLocalDepartTimeEnd] = useState(departTimeEnd)\r\n  const [localArriveTimeStart, setLocalArriveTimeStart] = useState(\r\n    arriveTimeStart\r\n  )\r\n  const [localArriveTimeEnd, setLocalArriveTimeEnd] = useState(arriveTimeEnd)\r\n\r\n  const optionsGroup = [\r\n    {\r\n      title: '坐席类型',\r\n      options: ticketTypes,\r\n      checkedMap: localCheckedTicketTypes,\r\n      dispatch: localCheckedTicketTypesDispatch\r\n    },\r\n    {\r\n      title: '车次类型',\r\n      options: trainTypes,\r\n      checkedMap: localCheckedTrainTypes,\r\n      dispatch: localCheckedTrainTypesDispatch\r\n    },\r\n    {\r\n      title: '出发车站',\r\n      options: departStations,\r\n      checkedMap: localCheckedDepartStations,\r\n      dispatch: localCheckedDepartStationsDispatch\r\n    },\r\n    {\r\n      title: '到达车站',\r\n      options: arriveStations,\r\n      checkedMap: localCheckedArriveStations,\r\n      dispatch: localCheckedArriveStationsDispatch\r\n    }\r\n  ]\r\n\r\n  function sure() {\r\n    setCheckedTicketTypes(localCheckedTicketTypes)\r\n    setCheckedTrainTypes(localCheckedTrainTypes)\r\n    setCheckedDepartStations(localCheckedDepartStations)\r\n    setCheckedArriveStations(localCheckedArriveStations)\r\n\r\n    setDepartTimeStart(localDepartTimeStart)\r\n    setDepartTimeEnd(localDepartTimeEnd)\r\n\r\n    setArriveTimeStart(localArriveTimeStart)\r\n    setArriveTimeEnd(localArriveTimeEnd)\r\n\r\n    toggleIsFiltersVisible()\r\n  }\r\n\r\n  const isResetDisabled = useMemo(() => {\r\n    return (\r\n      Object.keys(localCheckedTicketTypes).length === 0 &&\r\n      Object.keys(localCheckedTrainTypes).length === 0 &&\r\n      Object.keys(localCheckedDepartStations).length === 0 &&\r\n      Object.keys(localCheckedArriveStations).length === 0 &&\r\n      localDepartTimeStart === 0 &&\r\n      localDepartTimeEnd === 24 &&\r\n      localArriveTimeStart === 0 &&\r\n      localArriveTimeEnd === 24\r\n    )\r\n  }, [\r\n    localCheckedTicketTypes,\r\n    localCheckedTrainTypes,\r\n    localCheckedDepartStations,\r\n    localCheckedArriveStations,\r\n    localDepartTimeStart,\r\n    localDepartTimeEnd,\r\n    localArriveTimeStart,\r\n    localArriveTimeEnd\r\n  ])\r\n\r\n  function reset() {\r\n    localCheckedTicketTypesDispatch({ type: 'reset' })\r\n    localCheckedTrainTypesDispatch({ type: 'reset' })\r\n    localCheckedDepartStationsDispatch({ type: 'reset' })\r\n    localCheckedArriveStationsDispatch({ type: 'reset' })\r\n\r\n    setLocalDepartTimeStart(0)\r\n    setLocalDepartTimeEnd(24)\r\n\r\n    setLocalArriveTimeStart(0)\r\n    setLocalArriveTimeEnd(24)\r\n  }\r\n\r\n  return (\r\n    <div className=\"bottom-modal\">\r\n      <div className=\"bottom-dialog\">\r\n        <div className=\"bottom-dialog-content\">\r\n          <div className=\"title\">\r\n            <span\r\n              className={classNames('reset', { disabled: isResetDisabled })}\r\n              onClick={reset}\r\n            >\r\n              重置\r\n            </span>\r\n            <span className=\"ok\" onClick={sure}>\r\n              确定\r\n            </span>\r\n          </div>\r\n          <div className=\"options\">\r\n            {optionsGroup.map(group => (\r\n              <Option key={group.title} {...group} />\r\n            ))}\r\n            <Slider\r\n              title=\"出发时间\"\r\n              currentStartHours={localDepartTimeStart}\r\n              currentEndHours={localDepartTimeEnd}\r\n              onStartChanged={setLocalDepartTimeStart}\r\n              onEndChanged={setLocalDepartTimeEnd}\r\n            />\r\n            <Slider\r\n              title=\"到达时间\"\r\n              currentStartHours={localArriveTimeStart}\r\n              currentEndHours={localArriveTimeEnd}\r\n              onStartChanged={setLocalArriveTimeStart}\r\n              onEndChanged={setLocalArriveTimeEnd}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface BottomProps extends BottomModalProps {\r\n  toggleOrderType: DispatchMiddleProp\r\n  toggleHighSpeed: DispatchMiddleProp\r\n  toggleOnlyTickets: DispatchMiddleProp\r\n  highSpeed: VisibleProp\r\n  orderType: OrderTypeProp\r\n  onlyTickets: VisibleProp\r\n  isFiltersVisible: VisibleProp\r\n}\r\nconst Bottom: FC<BottomProps> = memo(props => {\r\n  const {\r\n    toggleOrderType,\r\n    toggleHighSpeed,\r\n    toggleOnlyTickets,\r\n    toggleIsFiltersVisible,\r\n    highSpeed,\r\n    orderType,\r\n    onlyTickets,\r\n    isFiltersVisible,\r\n\r\n    ticketTypes,\r\n    trainTypes,\r\n    departStations,\r\n    arriveStations,\r\n    checkedTicketTypes,\r\n    checkedTrainTypes,\r\n    checkedDepartStations,\r\n    checkedArriveStations,\r\n    departTimeStart,\r\n    departTimeEnd,\r\n    arriveTimeStart,\r\n    arriveTimeEnd,\r\n\r\n    setCheckedTicketTypes,\r\n    setCheckedTrainTypes,\r\n    setCheckedDepartStations,\r\n    setCheckedArriveStations,\r\n    setDepartTimeStart,\r\n    setDepartTimeEnd,\r\n    setArriveTimeStart,\r\n    setArriveTimeEnd\r\n  } = props\r\n\r\n  const noChecked = useMemo(() => {\r\n    return (\r\n      Object.keys(checkedTicketTypes).length === 0 &&\r\n      Object.keys(checkedTrainTypes).length === 0 &&\r\n      Object.keys(checkedDepartStations).length === 0 &&\r\n      Object.keys(checkedArriveStations).length === 0 &&\r\n      departTimeStart === 0 &&\r\n      departTimeEnd === 24 &&\r\n      arriveTimeStart === 0 &&\r\n      arriveTimeEnd === 24\r\n    )\r\n  }, [\r\n    checkedTicketTypes,\r\n    checkedTrainTypes,\r\n    checkedDepartStations,\r\n    checkedArriveStations,\r\n    departTimeStart,\r\n    departTimeEnd,\r\n    arriveTimeStart,\r\n    arriveTimeEnd\r\n  ])\r\n  return (\r\n    <div className=\"bottom\">\r\n      <div className=\"bottom-filters\">\r\n        <span className=\"item\" onClick={toggleOrderType}>\r\n          <i className=\"icon\">&#xf065;</i>\r\n          {orderType === 'depart' ? '出发 早→晚' : '耗时 短→长'}\r\n        </span>\r\n        <span\r\n          className={classNames('item', { 'item-on': highSpeed })}\r\n          onClick={toggleHighSpeed}\r\n        >\r\n          <i className=\"icon\">{highSpeed ? '\\uf43f' : '\\uf43e'}</i>\r\n          只看高铁动车\r\n        </span>\r\n        <span\r\n          className={classNames('item', { 'item-on': onlyTickets })}\r\n          onClick={toggleOnlyTickets}\r\n        >\r\n          <i className=\"icon\">{onlyTickets ? '\\uf43d' : '\\uf43c'}</i>\r\n          只看有票\r\n        </span>\r\n        <span\r\n          className={classNames('item', {\r\n            'item-on': isFiltersVisible || !noChecked\r\n          })}\r\n          onClick={toggleIsFiltersVisible}\r\n        >\r\n          <i className=\"icon\">{noChecked ? '\\uf0f7' : '\\uf446'}</i>\r\n          综合筛选\r\n        </span>\r\n      </div>\r\n      {isFiltersVisible && (\r\n        <BottomModal\r\n          ticketTypes={ticketTypes}\r\n          trainTypes={trainTypes}\r\n          departStations={departStations}\r\n          arriveStations={arriveStations}\r\n          checkedTicketTypes={checkedTicketTypes}\r\n          checkedTrainTypes={checkedTrainTypes}\r\n          checkedDepartStations={checkedDepartStations}\r\n          checkedArriveStations={checkedArriveStations}\r\n          departTimeStart={departTimeStart}\r\n          departTimeEnd={departTimeEnd}\r\n          arriveTimeStart={arriveTimeStart}\r\n          arriveTimeEnd={arriveTimeEnd}\r\n          setCheckedTicketTypes={setCheckedTicketTypes}\r\n          setCheckedTrainTypes={setCheckedTrainTypes}\r\n          setCheckedDepartStations={setCheckedDepartStations}\r\n          setCheckedArriveStations={setCheckedArriveStations}\r\n          setDepartTimeStart={setDepartTimeStart}\r\n          setDepartTimeEnd={setDepartTimeEnd}\r\n          setArriveTimeStart={setArriveTimeStart}\r\n          setArriveTimeEnd={setArriveTimeEnd}\r\n          toggleIsFiltersVisible={toggleIsFiltersVisible}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Bottom\r\n","import React, { FC, useEffect, useMemo, useCallback } from 'react'\r\nimport { Dispatch, bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport URI from 'urijs'\r\n\r\nimport {\r\n  StoreState,\r\n  ToProp,\r\n  FromProp,\r\n  VisibleProp,\r\n  DepartDateProp,\r\n  TrainProps,\r\n  CheckedProps,\r\n  TypesProps,\r\n  DispatchMiddleParamProp,\r\n  OrderTypeProp\r\n} from './types'\r\n\r\nimport Header from '../common/Header'\r\nimport Nav from '../common/Nav'\r\nimport useNav from '../common/useNav'\r\nimport List from './components/List'\r\nimport Bottom from './components/Bottom'\r\n\r\nimport './styles/App.css'\r\nimport dayjs from 'dayjs'\r\n\r\nimport {\r\n  prevDate,\r\n  nextDate,\r\n  setFrom,\r\n  setTo,\r\n  setDepartDate,\r\n  setHighSpeed,\r\n  fetchTrainInfo,\r\n  setSearchParsed,\r\n  toggleOrderType,\r\n  toggleHighSpeed,\r\n  toggleOnlyTickets,\r\n  toggleIsFiltersVisible,\r\n  setCheckedTicketTypes,\r\n  setCheckedTrainTypes,\r\n  setCheckedDepartStations,\r\n  setCheckedArriveStations,\r\n  setDepartTimeStart,\r\n  setDepartTimeEnd,\r\n  setArriveTimeStart,\r\n  setArriveTimeEnd\r\n} from './store/actions'\r\nimport { timeZero } from '../common/utils'\r\n\r\ninterface QueryProps {\r\n  to: ToProp\r\n  from: FromProp\r\n  date: DepartDateProp\r\n  highSpeed: VisibleProp\r\n}\r\n\r\ninterface AppProps {\r\n  to: ToProp\r\n  from: FromProp\r\n  highSpeed: VisibleProp\r\n  departDate: DepartDateProp\r\n  searchParsed: VisibleProp\r\n  trainList: TrainProps\r\n  orderType: OrderTypeProp\r\n  onlyTickets: VisibleProp\r\n  trainTypes: TypesProps\r\n  ticketTypes: TypesProps\r\n  departStations: TypesProps\r\n  arriveStations: TypesProps\r\n  isFiltersVisible: VisibleProp\r\n  checkedTicketTypes: CheckedProps\r\n  checkedTrainTypes: CheckedProps\r\n  checkedDepartStations: CheckedProps\r\n  checkedArriveStations: CheckedProps\r\n  departTimeStart: number\r\n  departTimeEnd: number\r\n  arriveTimeStart: number\r\n  arriveTimeEnd: number\r\n  fetchTrain: DispatchMiddleParamProp<string>\r\n  dispatch: Dispatch\r\n}\r\n\r\nconst App: FC<AppProps> = props => {\r\n  const {\r\n    to,\r\n    from,\r\n    departDate,\r\n    highSpeed,\r\n    trainList,\r\n    orderType,\r\n    onlyTickets,\r\n    trainTypes,\r\n    ticketTypes,\r\n    departStations,\r\n    arriveStations,\r\n    searchParsed,\r\n    isFiltersVisible,\r\n    checkedTicketTypes,\r\n    checkedTrainTypes,\r\n    checkedDepartStations,\r\n    checkedArriveStations,\r\n    departTimeStart,\r\n    departTimeEnd,\r\n    arriveTimeStart,\r\n    arriveTimeEnd,\r\n    fetchTrain,\r\n    dispatch\r\n  } = props\r\n\r\n  useEffect(() => {\r\n    const queriesDefault = {\r\n      to: '',\r\n      from: '',\r\n      date: Date.now(),\r\n      highSpeed: false\r\n    }\r\n    const queries: QueryProps = Object.assign(\r\n      queriesDefault,\r\n      URI.parseQuery(window.location.search)\r\n    )\r\n\r\n    const { to, from, date, highSpeed } = queries\r\n\r\n    dispatch(setFrom(from))\r\n    dispatch(setTo(to))\r\n    dispatch(setDepartDate(timeZero(dayjs(date).valueOf())))\r\n    dispatch(setHighSpeed(highSpeed === true))\r\n\r\n    dispatch(setSearchParsed(true))\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!searchParsed) {\r\n      return\r\n    }\r\n    const url = new URI(\r\n      'http://easy-mock.liuup.com/mock/5efef790339f163501d502b7/api/train/list'\r\n    )\r\n      .setSearch('from', from || '')\r\n      .setSearch('to', to || '')\r\n      .setSearch('date', dayjs(departDate).format('YYYY-MM-DD') || '')\r\n      .setSearch('orderType', orderType)\r\n      .setSearch('highSpeed', highSpeed + '')\r\n      .setSearch('onlyTickets', onlyTickets + '')\r\n      .setSearch('checkedTicketTypes', Object.keys(checkedTicketTypes).join())\r\n      .setSearch('checkedTrainTypes', Object.keys(checkedTrainTypes).join())\r\n      .setSearch(\r\n        'checkedDepartStations',\r\n        Object.keys(checkedDepartStations).join()\r\n      )\r\n      .setSearch(\r\n        'checkedArriveStations',\r\n        Object.keys(checkedArriveStations).join()\r\n      )\r\n      .toString()\r\n\r\n    fetchTrain(url)\r\n  }, [\r\n    from,\r\n    to,\r\n    departDate,\r\n    orderType,\r\n    highSpeed,\r\n    searchParsed,\r\n    onlyTickets,\r\n    checkedTicketTypes,\r\n    checkedTrainTypes,\r\n    checkedDepartStations,\r\n    checkedArriveStations,\r\n    fetchTrain\r\n  ])\r\n\r\n  const onBack = useCallback(() => {\r\n    window.history.back()\r\n  }, [])\r\n\r\n  const { isPrevDisabled, isNextDisabled, prev, next } = useNav(\r\n    departDate,\r\n    dispatch,\r\n    prevDate,\r\n    nextDate\r\n  )\r\n\r\n  const bottomCbs = useMemo(() => {\r\n    return bindActionCreators(\r\n      {\r\n        toggleOrderType,\r\n        toggleHighSpeed,\r\n        toggleOnlyTickets,\r\n        toggleIsFiltersVisible,\r\n        setCheckedTicketTypes,\r\n        setCheckedTrainTypes,\r\n        setCheckedDepartStations,\r\n        setCheckedArriveStations,\r\n        setDepartTimeStart,\r\n        setDepartTimeEnd,\r\n        setArriveTimeStart,\r\n        setArriveTimeEnd\r\n      },\r\n      dispatch\r\n    )\r\n  }, [dispatch])\r\n\r\n  if (!searchParsed) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header-wrapper\">\r\n        <Header title={`${from}-${to}`} onBack={onBack} />\r\n      </div>\r\n      <Nav\r\n        date={departDate}\r\n        prev={prev}\r\n        next={next}\r\n        isPrevDisabled={isPrevDisabled}\r\n        isNextDisabled={isNextDisabled}\r\n      />\r\n      <List list={trainList} />\r\n      <Bottom\r\n        highSpeed={highSpeed}\r\n        orderType={orderType}\r\n        onlyTickets={onlyTickets}\r\n        isFiltersVisible={isFiltersVisible}\r\n        ticketTypes={ticketTypes}\r\n        trainTypes={trainTypes}\r\n        departStations={departStations}\r\n        arriveStations={arriveStations}\r\n        checkedTicketTypes={checkedTicketTypes}\r\n        checkedTrainTypes={checkedTrainTypes}\r\n        checkedDepartStations={checkedDepartStations}\r\n        checkedArriveStations={checkedArriveStations}\r\n        departTimeStart={departTimeStart}\r\n        departTimeEnd={departTimeEnd}\r\n        arriveTimeStart={arriveTimeStart}\r\n        arriveTimeEnd={arriveTimeEnd}\r\n        {...bottomCbs}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  to,\r\n  from,\r\n  departDate,\r\n  highSpeed,\r\n  searchParsed,\r\n  trainList,\r\n  orderType,\r\n  onlyTickets,\r\n  trainTypes,\r\n  ticketTypes,\r\n  departStations,\r\n  arriveStations,\r\n  isFiltersVisible,\r\n  checkedTicketTypes,\r\n  checkedTrainTypes,\r\n  checkedDepartStations,\r\n  checkedArriveStations,\r\n  departTimeStart,\r\n  departTimeEnd,\r\n  arriveTimeStart,\r\n  arriveTimeEnd\r\n}: StoreState) => {\r\n  return {\r\n    to,\r\n    from,\r\n    departDate,\r\n    highSpeed,\r\n    searchParsed,\r\n    trainList,\r\n    orderType,\r\n    onlyTickets,\r\n    trainTypes,\r\n    ticketTypes,\r\n    departStations,\r\n    arriveStations,\r\n    isFiltersVisible,\r\n    checkedTicketTypes,\r\n    checkedTrainTypes,\r\n    checkedDepartStations,\r\n    checkedArriveStations,\r\n    departTimeStart,\r\n    departTimeEnd,\r\n    arriveTimeStart,\r\n    arriveTimeEnd\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return { dispatch, fetchTrain: bindActionCreators(fetchTrainInfo, dispatch) }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport 'normalize.css'\r\n\r\nimport store from './store/store'\r\nimport './styles/index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n","import React, { FC, memo } from 'react'\r\nimport './styles/Header.css'\r\n\r\ninterface HeaderProps {\r\n  onBack: () => void\r\n  title: string\r\n}\r\nconst Header: FC<HeaderProps> = memo(props => {\r\n  const { onBack, title } = props\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header-back\" onClick={onBack}>\r\n        <svg width=\"42\" height=\"42\">\r\n          <polyline\r\n            points=\"25,13 16,21 25,29\"\r\n            stroke=\"#fff\"\r\n            strokeWidth=\"2\"\r\n            fill=\"none\"\r\n          />\r\n        </svg>\r\n      </div>\r\n      <h1 className=\"header-title\">{title}</h1>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Header\r\n"],"sourceRoot":""}